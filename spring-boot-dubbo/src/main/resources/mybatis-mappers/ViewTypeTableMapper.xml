<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.open.springqianbailu.dao.viewtype.ViewTypeTableMapper">
    <resultMap id="BaseResultMap" type="com.open.springqianbailu.model.table.viewtype.ViewTypeTable">
        <result column="id" jdbcType="INTEGER" property="id"/>
        <result column="stat" jdbcType="VARCHAR" property="stat"/>
        <result column="block_id" jdbcType="VARCHAR" property="block_id"/>
        <result column="view_type" jdbcType="VARCHAR" property="view_type"/>
        <result column="tab_data_type" jdbcType="VARCHAR" property="tab_data_type"/>
        <result column="tab_api" jdbcType="VARCHAR" property="tab_api"/>
    </resultMap>

    <sql id="Base_Column_List">
        id, stat,block_id,view_type,tab_data_type,tab_api
    </sql>


    <resultMap id="collectionResultMap" type="com.open.springqianbailu.model.table.viewtype.ViewTypeTable">
        <result column="id" jdbcType="INTEGER" property="id"/>
        <result column="stat" jdbcType="VARCHAR" property="stat"/>
        <result column="block_id" jdbcType="VARCHAR" property="block_id"/>
        <result column="view_type" jdbcType="VARCHAR" property="view_type"/>
        <result column="tab_data_type" jdbcType="VARCHAR" property="tab_data_type"/>
        <result column="tab_api" jdbcType="VARCHAR" property="tab_api"/>

        <association property="body" column="id"
                     select="com.open.springqianbailu.dao.viewtype.ViewTypeBodyTableMapper.selectById">
        </association>

    </resultMap>

    <delete id="dropTable">
        drop table if exists view_type
    </delete>

    <select id="selectByViewType" resultMap="collectionResultMap" parameterType="java.lang.String">
    select
    *
    from `view_type` a
    where a.view_type = #{view_type,jdbcType=VARCHAR}
  </select>

    <select id="selectByDataType" resultMap="collectionResultMap" parameterType="java.lang.String">
        select
        <include refid="Base_Column_List"/>
        from `view_type`
        where tab_data_type = #{tab_data_type,jdbcType=VARCHAR}
    </select>

    <delete id="deleteByViewType" parameterType="java.lang.String">
      delete `view_type` where view_type = #{view_type,jdbcType=VARCHAR}
  </delete>

    <insert id="createTable">
  CREATE TABLE `view_type` (
    `id` int(11) NOT NULL AUTO_INCREMENT,
    `stat` varchar(255) COLLATE utf8_bin DEFAULT NULL,
    `block_id` varchar(255) COLLATE utf8_bin DEFAULT NULL,
    `view_type` varchar(255) COLLATE utf8_bin DEFAULT NULL,
    `tab_data_type` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT 'header/sections',
    `tab_api` varchar(255) COLLATE utf8_bin DEFAULT NULL,
    PRIMARY KEY (`id`)
  ) ENGINE=InnoDB  AUTO_INCREMENT=0 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;
  </insert>

    <insert id="insert" useGeneratedKeys="true" keyProperty="id"
            parameterType="com.open.springqianbailu.model.table.viewtype.ViewTypeTable">
    insert into `view_type` (id, stat, block_id,view_type,tab_data_type,tab_api
      )
    values (#{id,jdbcType=INTEGER}, #{stat,jdbcType=VARCHAR}, #{block_id,jdbcType=VARCHAR}, #{view_type,jdbcType=VARCHAR}
    , #{tab_data_type,jdbcType=VARCHAR}, #{tab_api,jdbcType=VARCHAR}
      )
  </insert>
    <insert id="insertSelective" parameterType="com.open.springqianbailu.model.table.viewtype.ViewTypeTable">
        insert into view_type
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="stat != null">
                stat,
            </if>
            <if test="block_id != null">
                block_id,
            </if>
            <if test="view_type != null">
                view_type,
            </if>
            <if test="tab_data_type != null">
                tab_data_type,
            </if>
            <if test="tab_api != null">
                tab_api,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=INTEGER},
            </if>
            <if test="stat != null">
                #{stat,jdbcType=VARCHAR},
            </if>
            <if test="block_id != null">
                #{block_id,jdbcType=VARCHAR},
            </if>
            <if test="view_type != null">
                #{view_type,jdbcType=VARCHAR},
            </if>
            <if test="tab_data_type != null">
                #{tab_data_type,jdbcType=VARCHAR},
            </if>
            <if test="tab_api != null">
                #{tab_api,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
</mapper>